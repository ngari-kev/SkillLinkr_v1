{
    email kevngariwangui@gmail.com
}

skilllinkr.ngarikev.tech {
    handle_path /api/* {
        reverse_proxy backend:5000
    }

    handle {
        root * /srv
        file_server
        rewrite * /index.html
    }

    encode zstd gzip

    log {
        output file /var/log/caddy/access.log
    }

    handle_errors {
        @5xx {
            expression {http.error.status_code} >= 500 && {http.error.status_code} < 600
        }
        handle @5xx {
            root * /www/error_pages # Make sure you have error pages in this directory
            rewrite * /5xx.html
            file_server
        }
    }
}
