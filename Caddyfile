{
    email kevngariwangui@gmail.com
}

skilllinkr.ngarikev.tech {
    tls {
        protocols tls1.2 tls1.3
    }

    @api {
        path /api/*
    }

    handle @api {
        uri strip_prefix /api
        reverse_proxy backend:5000 {
            header_up Host {upstream_hostport}
            # Remove health checks for now as they're causing errors
            # health checks can be added back once the backend endpoint is ready
        }
    }

    handle {
        root * /srv
        try_files {path} /index.html
        file_server
    }

    # Basic compression
    encode zstd gzip
}
